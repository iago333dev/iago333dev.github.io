<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Meu Portf√≥lio</title>
    <script
      id="sap-ui-bootstrap"
      src="https://sapui5.hana.ondemand.com/resources/sap-ui-core.js"
      data-sap-ui-theme="sap_fiori_3"
      data-sap-ui-libs="sap.m"
      data-sap-ui-async="true"
    ></script>
    <style>
      body, html {
        margin: 0;
        padding: 0;
      }

      .fioriHeader {
        background-color: #354a5f;
        color: white;
        height: 3rem;
        display: flex;
        align-items: center;
        padding: 0 1rem;
        font-family: "72", "72full", Arial, Helvetica, sans-serif;
      }

      .fioriHeader img {
        height: 1.8rem;
        margin-right: 1rem;
      }

      .sapUiBody {
        padding-top: 3rem;
      }

      .filtroEspacado > * {
        margin-right: 1rem;
      }

      .dropdownText {
        font-size: 1rem;
        color: #0a6ed1;
        cursor: pointer;
        display: flex;
        align-items: center;
        font-weight: bold;
      }

      .dropdownText::after {
        content: "‚ñº";
        font-size: 0.75rem;
        margin-left: 0.4rem;
      }
    </style>
  </head>

  <body>
    <div class="fioriHeader">
      <img src="https://www.sap.com/dam/application/shared/logos/sap-logo-svg.svg" />
      <span>Manage Portfolio Projects</span>
    </div>

    <div id="content" class="sapUiBody"></div>

    <script>
      sap.ui.getCore().attachInit(function () {
      const aProjetos = [
        {
          empresa: "SAP Brasil",
          inicio: "2023-01-10",
          fim: "2023-03-20",
          descricao: "Atua√ß√£o com Fiori Elements e SAP S/4HANA na cria√ß√£o de apps anal√≠ticos.",
        },
        {
          empresa: "Totvs",
          inicio: "2022-11-01",
          fim: "2023-01-15",
          descricao: "Desenvolvimento de relat√≥rios em ABAP para m√≥dulos financeiros.",
        },
        {
          empresa: "Accenture",
          inicio: "2024-02-05",
          fim: "2024-05-30",
          descricao: "Consultoria t√©cnica em projetos SAPUI5 para clientes internacionais.",
        },
        {
          empresa: "Gepetinho Corp",
          inicio: "2025-01-01",
          fim: "2025-06-01",
          descricao: "GPT autogerenciado com projetos SAP inteligentes e piadas ruins.",
        }
      ];

      // üîÑ Modelo carregado com os dados acima
      const oModel = new sap.ui.model.json.JSONModel({ Projetos: aProjetos });
      sap.ui.getCore().setModel(oModel);

        // üîπ Topo: bot√£o Standard ‚ñº
        const oTopBar = new sap.m.Toolbar({
          content: [
            new sap.ui.core.HTML({
              content: '<div class="dropdownText">Standard</div>',
            }),
          ],
        });

        // üîπ Filtros
        const oEmpresaField = new sap.m.Input({
          placeholder: "Empresa",
          showValueHelp: true,
        });

        const oDataInicio = new sap.m.DatePicker({
          placeholder: "Data In√≠cio",
          displayFormat: "yyyy-MM-dd",
        });

        const oDataFim = new sap.m.DatePicker({
          placeholder: "Data Fim",
          displayFormat: "yyyy-MM-dd",
        });

        const oGoButton = new sap.m.Button({
          text: "Go",
          type: "Emphasized",
        });

        const oAdaptButton = new sap.m.Button({
          text: "Adapt Filters",
          type: "Transparent",
        });

        const oFilterBar = new sap.m.Toolbar({
          content: [oEmpresaField, oDataInicio, oDataFim, oGoButton, oAdaptButton],
        }).addStyleClass("filtroEspacado");

        // üîπ Tabela de Projetos
        const oTable = new sap.m.Table({
          headerText: "Lista de Projetos",
          columns: [
            new sap.m.Column({ header: new sap.m.Label({ text: "Empresa" }) }),
            new sap.m.Column({ header: new sap.m.Label({ text: "Data In√≠cio" }) }),
            new sap.m.Column({ header: new sap.m.Label({ text: "Data Fim" }) }),
          ],
          items: {
            path: "/Projetos",
            template: new sap.m.ColumnListItem({
              type: "Navigation",
              press: function (oEvent) {
                const oContext = oEvent.getSource().getBindingContext();
                oDetailPage.setBindingContext(oContext); // define o contexto da Object Page
                oApp.to(oDetailPage);
              },
              cells: [
                new sap.m.Text({ text: "{empresa}" }),
                new sap.m.Text({ text: "{inicio}" }),
                new sap.m.Text({ text: "{fim}" }),
              ],
            }),
          },
        });

        // üîπ P√°gina principal
        const oListPage = new sap.m.Page({
          showHeader: false,
          content: [oTopBar, oFilterBar, oTable],
        });

        // üîπ P√°gina de Detalhes
        const oDetailText = new sap.m.Text({ text: "" });

        const oDetailPage = new sap.m.Page({
          showHeader: false,
          content: [
            // Header personalizado com bot√£o voltar
            new sap.m.Toolbar({
              content: [
                new sap.m.Button({
                  icon: "sap-icon://nav-back",
                  type: "Transparent",
                  press: () => oApp.back(),
                }),
                new sap.m.Title({ text: "Detalhes do Projeto" }),
              ],
            }),

            // IconTabBar simulando abas da Object Page
            new sap.m.IconTabBar({
              expandable: false,
              items: [
                new sap.m.IconTabFilter({
                  key: "general",
                  text: "Informa√ß√µes Gerais",
                  content: [
                    new sap.m.VBox({
                      width: "95%", // espa√ßamento horizontal
                      alignItems: "Start",
                      justifyContent: "Start",
                      items: [
                        new sap.m.ObjectHeader({
                          title: "{empresa}",
                          number: "{inicio} at√© {fim}",
                          intro: "Resumo do Emprego",
                        }),
                        new sap.m.Text({ text: "{descricao}" }),
                      ],
                    }),
                  ],
                }),

                new sap.m.IconTabFilter({
                  key: "tecnico",
                  text: "Resumo T√©cnico",
                  content: [
                    new sap.m.VBox({
                      width: "95%",
                      items: [
                        new sap.m.Text({ text: "ABAP, UI5, Gateway, CDS, RAP..." }),
                      ],
                    }),
                  ],
                }),

                new sap.m.IconTabFilter({
                  key: "contact",
                  text: "Contato",
                  content: [
                    new sap.m.VBox({
                      width: "95%",
                      items: [
                        new sap.m.Text({ text: "Email: exemplo@empresa.com" }),
                        new sap.m.Text({ text: "Telefone: +55 11 99999-9999" }),
                      ],
                    }),
                  ],
                }),


              ],
            }),
          ],
        });

        // üîπ App container com navega√ß√£o
        const oApp = new sap.m.App({
          pages: [oListPage, oDetailPage],
        });

        oApp.placeAt("content");
      });
    </script>
  </body>
</html>
